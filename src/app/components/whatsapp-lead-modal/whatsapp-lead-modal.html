<div
  class="overlay"
  *ngIf="whatsappLeadModal.aberto() && whatsappLeadModal.ui() === 'modal'"
  (click)="fechar()"
  role="presentation"
>
  <div class="modal" (click)="$event.stopPropagation()" role="dialog" aria-modal="true">
    <button type="button" class="fechar" (click)="fechar()" aria-label="fechar">×</button>

    <div class="topo">
      <div class="icone">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path
            d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </div>
      <h4 class="titulo">Vamos conversar?</h4>
      <p class="subtitulo">Deixe seus dados para eu poder te ajudar melhor</p>
    </div>

    <form class="formulario" [formGroup]="formulario" (ngSubmit)="enviar()">
      <label class="campo">
        <span class="rotulo-campo">Nome</span>
        <div class="input-wrap">
          <svg class="icone-campo" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path
              d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" />
          </svg>
          <input class="input" type="text" formControlName="nome" autocomplete="name" placeholder="Seu nome" />
        </div>
        <span class="erro" *ngIf="formulario.controls.nome.touched && formulario.controls.nome.invalid">
          Informe seu nome.
        </span>
      </label>

      <label class="campo">
        <span class="rotulo-campo">Email</span>
        <div class="input-wrap">
          <svg class="icone-campo" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path
              d="M4 4h16v16H4V4z"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              opacity="0.0001"
            />
            <path
              d="M4 6h16v12H4V6z"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M4 7l8 6 8-6"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          <input class="input" type="email" formControlName="email" autocomplete="email" placeholder="seu@email.com" />
        </div>
        <span class="erro" *ngIf="formulario.controls.email.touched && formulario.controls.email.invalid">
          E-mail inválido.
        </span>
      </label>

      <label class="campo">
        <span class="rotulo-campo">Telefone</span>
        <div class="input-wrap">
          <svg class="icone-campo" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path
              d="M22 16.92v3a2 2 0 0 1-2.18 2 19.86 19.86 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.86 19.86 0 0 1 2.08 4.18 2 2 0 0 1 4.06 2h3a2 2 0 0 1 2 1.72c.12.81.3 1.6.54 2.36a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.72-1.06a2 2 0 0 1 2.11-.45c.76.24 1.55.42 2.36.54A2 2 0 0 1 22 16.92z"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          <input
            class="input"
            type="tel"
            formControlName="telefone"
            autocomplete="tel"
            placeholder="(11) 99999-9999"
            (input)="aoDigitarTelefone()"
          />
        </div>
        <span class="erro" *ngIf="formulario.controls.telefone.touched && formulario.controls.telefone.invalid">
          Informe um telefone válido.
        </span>
      </label>

      <label class="campo">
        <span class="rotulo-campo">O que você precisa?</span>
        <div class="input-wrap textarea-wrap">
          <svg class="icone-campo" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path
              d="M21 15a4 4 0 0 1-4 4H8l-5 3V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4v8z"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          <textarea
            class="textarea"
            rows="2"
            formControlName="descricao"
            placeholder="Ex.: site institucional, landing page, sistema, identidade visual"
          ></textarea>
        </div>
        <span class="erro" *ngIf="formulario.controls.descricao.touched && formulario.controls.descricao.invalid">
          Descreva sua necessidade (mínimo 10 caracteres).
        </span>
      </label>

      <button class="botao" type="submit">Ir para o WhatsApp</button>
      <button class="botao-secundario" type="button" (click)="pular()">Pular e ir direto</button>
      <p class="nota">Seus dados estão seguros e não serão compartilhados.</p>
    </form>
  </div>
</div>
